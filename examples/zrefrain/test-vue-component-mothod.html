<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Vue.js markdown editor example</title>
    <!-- Delete ".min" for console warnings in development -->
    <script src="https://unpkg.com/lodash@4.16.0"></script>
    <script src="https://unpkg.com/marked@0.3.6"></script>
    <script src="../dist/vue.js"></script>
  </head>
  <body>

    <div id="editor">
      <textarea :value="input" @input="update"></textarea>
      <div v-html="compiledMarkdown"></div>
    </div>

    <script>
      new Vue({
        el: '#editor',
        data: {
          input: '# hello'
        },
        computed: {
          compiledMarkdown: function () {
            return marked(this.input, { sanitize: true })
          }
        },
        methods: {
          update: _.debounce(function (e) {
            this.input = e.target.value
          }, 300)
        }
      })

      // 上面的内容不重要，是赋值其他 example 文件，用来执行 new Vue 观察流程用的
      Vue.component('anchored-heading', {
        render: function (createElement) {
          return createElement(
            'h' + this.level,   // 标签名称
            this.$slots.default // 子元素数组
          )
        },
        props: {
          level: {
            type: Number,
            required: true
          }
        }
      })

      // achored-heading 组件确实会出现在其中
      console.log('Vue.options.components', Vue.options.components)
    </script>

  </body>
</html>
